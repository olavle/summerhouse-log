{"version":3,"sources":["components/HouseList.tsx","state/reducer.ts","state/state.tsx","utils/axiosHelper.ts","pages/House.tsx","pages/Home.tsx","pages/Profile.tsx","components/HouseUsersList.tsx","utils/dateParser.ts","components/ReservationsList.tsx","components/ShortageList.tsx","pages/HouseView.tsx","components/MessageArea.tsx","pages/Messages.tsx","Views/LoggedInView.tsx","utils/loginHelper.ts","Views/LoginView.tsx","App.tsx","index.tsx"],"names":["HouseList","houses","map","item","style","padding","textDecoration","to","id","className","src","maxWidth","paddingRight","name","setShortages","shortages","type","payload","setShortageInputOpen","arg","setNewshortage","shortage","setMessages","messages","setNewMessageInput","message","setMessageReplyInput","input","initialState","isLoggedIn","username","userPassword","stayLoggedIn","houseToEdit","adminId","maxResidents","timestamp","address","imageUrl","users","reservations","shortageInputOpen","newShortage","messageReplies","newMessageInput","newMessageReplyInput","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","value","useStateValue","useContext","axiosInstance","axios","create","withCredentials","get","url","a","response","data","post","obj","put","House","React","useEffect","axiosHelper","then","res","listHouses","catch","err","console","log","length","Home","Profile","HouseUsersList","paddingBottom","borderBottom","parseDate","date","split","join","ReservationsList","user","find","userWhoAddedId","startingDate","endingDate","ShortageList","fontWeight","onClick","toSend","isResolved","status","toChange","undefined","handleToggleResolve","color","cursor","content","onChange","event","target","placeholder","addedShortage","concat","HouseView","useParams","setReservations","MessageArea","useState","replies","setReplies","forEach","reply","handleReplyInputChange","originalMessageId","cols","rows","messageId","addNewReply","Messages","messageInputOpen","setMessageInputOpen","messageObj","houseId","result","addedMessage","LoggedInView","handleLogout","path","element","login","userCredentials","logout","userLoggedIn","token","LoginView","handleLogin","loginHelper","password","keepLoggedIn","window","alert","htmlFor","checked","App","Cookies","ReactDOM","render","action","document","getElementById"],"mappings":"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","file":"static/js/main.9476d38f.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { House } from '../types';\nimport '../styles/House.css';\n\ninterface Props {\n  houses: House[];\n}\n\nconst HouseList = ({ houses }: Props) => {\n  return (\n    <div>\n      {houses.map((item) => {\n        return (\n          <div style={{padding: '8px'}} key={item.id}>\n            <Link style={{textDecoration: 'none'}} to={item.id}>\n              <div className='HouseItem'>\n                <img\n                  src='http://localhost:3001/house.jpeg'\n                  style={{ maxWidth: '64px', paddingRight: '16px' }}\n                />\n                <p>{item.name}</p>\n              </div>\n            </Link>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default HouseList;\n","import {\n  House,\n  Message,\n  MessageReply,\n  Reservation,\n  Shortage,\n  State,\n} from '../types';\n\nexport type Action =\n  | {\n      type: 'LOGIN';\n      payload: true;\n    }\n  | {\n      type: 'LOGOUT';\n      payload: false;\n    }\n  | {\n      type: 'SET_USERNAME';\n      payload: string;\n    }\n  | {\n      type: 'SET_PASSWORD';\n      payload: string;\n    }\n  | {\n      type: 'STAY_LOGGEDIN';\n      payload: boolean;\n    }\n  | {\n      type: 'HOUSES_FROM_DB';\n      payload: House[];\n    }\n  | {\n      type: 'SET_HOUSE_TO_EDIT';\n      payload: House;\n    }\n  | {\n      type: 'SET_RESERVATIONS';\n      payload: Reservation[];\n    }\n  | {\n      type: 'SET_SHORTAGES';\n      payload: Shortage[];\n    }\n  | {\n      type: 'SHORTAGEINPUT_OPEN';\n      payload: boolean;\n    }\n  | {\n      type: 'SET_NEW_SHORTAGE';\n      payload: string;\n    }\n  | {\n      type: 'SET_MESSAGES';\n      payload: Message[];\n    }\n  | {\n      type: 'SET_NEW_MESSAGE';\n      payload: string;\n    }\n  | {\n      type: 'SET_MESSAGE_REPLIES';\n      payload: MessageReply[];\n    }\n  | {\n      type: 'SET_REPLY_INPUT';\n      payload: string;\n    };\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        ...state,\n        isLoggedIn: true,\n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        isLoggedIn: false,\n      };\n    case 'SET_USERNAME':\n      return {\n        ...state,\n        username: action.payload,\n      };\n    case 'SET_PASSWORD':\n      return {\n        ...state,\n        userPassword: action.payload,\n      };\n    case 'STAY_LOGGEDIN':\n      return {\n        ...state,\n        stayLoggedIn: action.payload,\n      };\n    case 'HOUSES_FROM_DB':\n      return {\n        ...state,\n        houses: action.payload,\n      };\n    case 'SET_HOUSE_TO_EDIT':\n      return {\n        ...state,\n        houseToEdit: action.payload,\n      };\n    case 'SET_RESERVATIONS':\n      return {\n        ...state,\n        reservations: action.payload,\n      };\n    case 'SET_SHORTAGES':\n      return {\n        ...state,\n        shortages: action.payload,\n      };\n    case 'SHORTAGEINPUT_OPEN':\n      return {\n        ...state,\n        shortageInputOpen: action.payload,\n      };\n    case 'SET_NEW_SHORTAGE':\n      return {\n        ...state,\n        newShortage: action.payload,\n      };\n    case 'SET_MESSAGES':\n      return {\n        ...state,\n        messages: action.payload,\n      };\n    case 'SET_NEW_MESSAGE':\n      return {\n        ...state,\n        newMessageInput: action.payload,\n      };\n    case 'SET_MESSAGE_REPLIES':\n      return {\n        ...state,\n        messageReplies: action.payload,\n      };\n    case 'SET_REPLY_INPUT':\n      return {\n        ...state,\n        newMessageReplyInput: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const loginUser = (): Action => {\n  return {\n    type: 'LOGIN',\n    payload: true,\n  };\n};\n\nexport const logoutUser = (): Action => {\n  return {\n    type: 'LOGOUT',\n    payload: false,\n  };\n};\n\nexport const listHouses = (houses: House[]): Action => {\n  return {\n    type: 'HOUSES_FROM_DB',\n    payload: houses,\n  };\n};\n\nexport const setHousetoEdit = (house: House): Action => {\n  return {\n    type: 'SET_HOUSE_TO_EDIT',\n    payload: house,\n  };\n};\n\nexport const setReservations = (reservations: Reservation[]): Action => {\n  return {\n    type: 'SET_RESERVATIONS',\n    payload: reservations,\n  };\n};\n\nexport const setShortages = (shortages: Shortage[]): Action => {\n  return {\n    type: 'SET_SHORTAGES',\n    payload: shortages,\n  };\n};\n\nexport const setShortageInputOpen = (arg: boolean): Action => {\n  return {\n    type: 'SHORTAGEINPUT_OPEN',\n    payload: arg,\n  };\n};\n\nexport const setNewshortage = (shortage: string): Action => {\n  return {\n    type: 'SET_NEW_SHORTAGE',\n    payload: shortage,\n  };\n};\n\nexport const setMessages = (messages: Message[]): Action => {\n  return {\n    type: 'SET_MESSAGES',\n    payload: messages,\n  };\n};\n\nexport const setNewMessageInput = (message: string): Action => {\n  return {\n    type: 'SET_NEW_MESSAGE',\n    payload: message,\n  };\n};\n\nexport const setMessageReplies = (replies: MessageReply[]): Action => {\n  return {\n    type: 'SET_MESSAGE_REPLIES',\n    payload: replies,\n  };\n};\n\nexport const setMessageReplyInput = (input: string): Action => {\n  return {\n    type: 'SET_REPLY_INPUT',\n    payload: input,\n  };\n};\n","import React, { createContext, useContext, useReducer } from 'react';\nimport { State } from '../types';\nimport { Action } from './reducer';\n\nconst initialState: State = {\n  isLoggedIn: false,\n  username: '',\n  userPassword: '',\n  stayLoggedIn: false,\n  houses: [],\n  houseToEdit: {\n    id: '',\n    adminId: '',\n    maxResidents: 0,\n    name: '',\n    timestamp: '',\n    address: '',\n    imageUrl: '',\n    users: [],\n  },\n  reservations: [],\n  shortages: [],\n  shortageInputOpen: false,\n  newShortage: '',\n  messages: [],\n  messageReplies: [],\n  newMessageInput: '',\n  newMessageReplyInput: '',\n};\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([\n  initialState,\n  () => initialState,\n]);\n\ntype StateProviderProps = {\n  reducer: React.Reducer<State, Action>;\n  children: React.ReactElement;\n};\n\nexport const StateProvider = ({ reducer, children }: StateProviderProps) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StateContext.Provider value={[state, dispatch]}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\n\n// const baseUrl = 'http://localhost:3001';\n\n\nexport const axiosInstance = axios.create({\n  withCredentials: true,\n});\n\n// const get = async <Type>(url: string): Promise<Type> => {\n//   const response = await axios.get(`${baseUrl}/${url}`, {\n//     withCredentials: true,\n//   });\n//   return await response.data;\n// };\n\nconst get = async <Type>(url: string): Promise<Type> => {\n  const response = await axios.get(`${url}`, {\n    withCredentials: true,\n  });\n  return await response.data;\n};\n\n// const post = async <Type>(url: string, obj?: Type) => {\n//   const response = await axios.post(`${baseUrl}/${url}`, obj, {\n//     withCredentials: true,\n//   });\n//   return response;\n// };\nconst post = async <Type>(url: string, obj?: Type) => {\n  const response = await axios.post(`${url}`, obj, {\n    withCredentials: true,\n  });\n  return response;\n};\n\n// const put = async <Type>(url: string, obj?: Type) => {\n//   const response = await axios.put(`${baseUrl}/${url}`, obj, {\n//     withCredentials: true,\n//   });\n//   return response;\n// };\nconst put = async <Type>(url: string, obj?: Type) => {\n  const response = await axios.put(`${url}`, obj, {\n    withCredentials: true,\n  });\n  return response;\n};\n\nexport default {\n  get,\n  post,\n  put,\n};\n","import React from 'react';\nimport HouseList from '../components/HouseList';\nimport { listHouses } from '../state/reducer';\nimport { useStateValue } from '../state/state';\nimport axiosHelper from '../utils/axiosHelper';\nimport '../styles/House.css';\nimport { House as HouseType } from '../types'; // Change name in import to avoid React's confusion with the component name\n\nconst House = () => {\n  const [{ houses }, dispatch] = useStateValue();\n\n  React.useEffect(() => {\n    axiosHelper\n      .get<HouseType[]>('api/houses')\n      .then((res) => {\n        dispatch(listHouses(res));\n      }) //Typequard here\n      .catch((err) => console.log('err', err));\n  }, []);\n\n  return (\n    <div>\n      <div className='HouseList'>\n        {houses.length === 0 ? (\n          <p>Ladataan mökkejä...</p>\n        ) : (\n          <HouseList houses={houses} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default House;\n","import React from 'react';\n\nconst Home = () => {\n  return (\n    <div>\n      <p>Hello home</p>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\n\nconst Profile = () => {\n  return (\n    <div>\n      <p>Hello Profile</p>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport { HouseUser } from '../types';\nimport '../styles/House.css';\n\ninterface Props {\n  users: HouseUser[] | [];\n}\n\nconst HouseUsersList = ({ users }: Props) => {\n  return (\n    <div className='HouseUsersList'>\n      <div style={{ paddingBottom: '8px', borderBottom: '1px solid black' }}>\n        Mökin käyttäjät:\n      </div>\n      {users.length === 0 ? (\n        <p>No users for this house yet</p>\n      ) : (\n        users.map((item) => {\n          return (\n            <div key={item.id}>\n              <p>{item.username}</p>\n            </div>\n          );\n        })\n      )}\n    </div>\n  );\n};\n\nexport default HouseUsersList;\n","export const parseDate = (date: string): string => {\n  const toReturn = date.split('-');\n  return toReturn.join('.');\n};\n","import React from 'react';\nimport { HouseUser, Reservation } from '../types';\nimport { parseDate } from '../utils/dateParser';\n\ninterface Props {\n  reservations: Reservation[];\n  users: HouseUser[];\n}\n\nconst ReservationsList = ({ reservations, users }: Props) => {\n  return (\n    <div className='ReservationsList'>\n      <div style={{paddingBottom: '8px', borderBottom: '1px solid black'}}>Varaukset:</div>\n      <table>\n        <tbody>\n          <tr>\n            <th>Käyttäjä:</th>\n            <th>Aika:</th>\n          </tr>\n          {reservations.map((item) => {\n            const user = users.find((user) => user.id === item.userWhoAddedId);\n            return (\n              <tr key={item.id}>\n                <td>{user?.username}</td>\n                <td>\n                  {parseDate(item.startingDate)} - {parseDate(item.endingDate)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ReservationsList;\n","import React from 'react';\nimport {\n  setNewshortage,\n  setShortageInputOpen,\n  setShortages,\n} from '../state/reducer';\nimport { useStateValue } from '../state/state';\nimport { Shortage } from '../types';\nimport axiosHelper from '../utils/axiosHelper';\n\ninterface Props {\n  shortages: Shortage[];\n}\n\nconst ShortageList = ({ shortages }: Props) => {\n  const [{ shortageInputOpen, newShortage, houseToEdit }, dispatch] =\n    useStateValue();\n\n  const handleToggleResolve = (obj: Shortage) => {\n    const toSend = {\n      ...obj,\n      isResolved: !obj.isResolved,\n    };\n    axiosHelper.put<Shortage>(`api/shortages/`, toSend).then((res) => {\n      if (res.status === 201) {\n        const toChange = shortages.map((shortage) => {\n          if (shortage.id === obj.id) {\n            return toSend;\n          }\n          return shortage;\n        }) as Shortage[];\n        if (toChange !== undefined) {\n          dispatch(setShortages(toChange));\n        }\n      }\n    });\n  };\n\n  const handleShortageInput: React.ChangeEventHandler<HTMLInputElement> = (\n    event\n  ) => {\n    dispatch(setNewshortage(event.target.value));\n  };\n\n  const addNewshortage = () => {\n    axiosHelper\n      .post(`api/shortages/${houseToEdit.id}`, { content: newShortage })\n      .then((res) => {\n        const addedShortage = res.data as Shortage;\n        dispatch(setShortages(shortages.concat(addedShortage)));\n        dispatch(setNewshortage(''));\n        dispatch(setShortageInputOpen(false));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className='ShortageList'>\n      <div style={{ fontWeight: 'bold' }}>Puutteet:</div>\n      {shortages.map((item) => {\n        return (\n          <div onClick={() => handleToggleResolve(item)} key={item.id}>\n            {!item.isResolved ? (\n              <p style={{cursor: 'pointer'}}>{item.content}</p>\n            ) : (\n              <p style={{ color: 'gray', textDecoration: 'line-through',  cursor: 'pointer' }}>\n                {item.content}\n              </p>\n            )}\n          </div>\n        );\n      })}\n      <div\n        style={{ fontWeight: 'bold', color: 'green', cursor: 'pointer' }}\n        onClick={() => dispatch(setShortageInputOpen(!shortageInputOpen))}>\n        Lisää uusi...\n      </div>\n      {shortageInputOpen ? (\n        <div>\n          <input\n            onChange={handleShortageInput}\n            type='text'\n            name='shortage'\n            placeholder='Lisää puute...'\n            value={newShortage}\n          />\n          <button onClick={addNewshortage}>Lisää!</button>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n};\n\nexport default ShortageList;\n","import React from 'react';\nimport { useParams } from 'react-router';\nimport HouseUsersList from '../components/HouseUsersList';\nimport {\n  setHousetoEdit,\n  setReservations,\n  setShortages,\n} from '../state/reducer';\nimport { useStateValue } from '../state/state';\nimport { House, Reservation, Shortage } from '../types';\nimport axiosHelper from '../utils/axiosHelper';\nimport '../styles/House.css';\nimport ReservationsList from '../components/ReservationsList';\nimport ShortageList from '../components/ShortageList';\nimport { Link } from 'react-router-dom';\n\nconst HouseView = () => {\n  const { id } = useParams();\n\n  const [\n    { houseToEdit, reservations, shortages },\n    dispatch,\n  ] = useStateValue();\n\n  React.useEffect(() => {\n    axiosHelper\n      .get<House>(`api/houses/${id}`)\n      .then((res) => {\n        dispatch(setHousetoEdit(res));\n      })\n      .catch((err) => console.log('error:', err));\n    axiosHelper\n      .get<Reservation[]>(`api/reservations/${id}`)\n      .then((res) => dispatch(setReservations(res)))\n      .catch((err) => console.log(err));\n    axiosHelper\n      .get<Shortage[]>(`api/shortages/${id}`)\n      .then((res) => dispatch(setShortages(res)))\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <div>\n      {houseToEdit.id === '' ? (\n        <p>No such house</p>\n      ) : (\n        <div>\n          <div className='HouseName'>{houseToEdit.name}</div>\n          <div className='HouseInfoPage'>\n            <div style={{ padding: '26px' }}>\n              <HouseUsersList users={houseToEdit.users} />\n            </div>\n            <div style={{ padding: '26px' }}>\n              <ReservationsList\n                reservations={reservations}\n                users={houseToEdit.users}\n              />\n            </div>\n            <div style={{ padding: '26px' }}>\n              <ShortageList shortages={shortages} />\n            </div>\n          </div>\n          <Link to='messages'>\n            <div>Katso mökkiin liittyviä viestejä</div>\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HouseView;\n","import React from 'react';\nimport { House, Message, MessageReply } from '../types';\nimport '../styles/House.css';\nimport axiosHelper from '../utils/axiosHelper';\nimport { setMessageReplies, setMessageReplyInput } from '../state/reducer';\nimport { useStateValue } from '../state/state';\n\ninterface Props {\n  messages: Message[];\n  houseToEdit: House;\n}\n\nconst MessageArea = ({ messages, houseToEdit }: Props) => {\n  const [{ messageReplies, newMessageReplyInput }, dispatch] = useStateValue();\n  const [replies, setReplies] = React.useState<MessageReply[]>([]);\n\n  React.useEffect(() => {\n    setReplies([]);\n    console.log('Hello from use effect');\n    messages.forEach((message) => {\n      console.log('The message in question:', message);\n      console.log('Replies:', replies);\n      axiosHelper\n        .get<MessageReply[]>(`api/messages/${message.id}/replies`)\n        .then((res) => {\n          res.forEach((reply) => {\n            setReplies(replies.concat(reply));\n          });\n        })\n        .catch((err) => console.log(err));\n    });\n    console.log('replies finally:', replies);\n  }, []);\n\n  const addNewReply = (messageId: string) => {\n    const reply = {\n      content: newMessageReplyInput,\n    };\n    console.log(reply)\n    axiosHelper\n      .post(`api/messages/${messageId}/replies`, reply)\n      .then((res) => {\n        setReplies(replies.concat(res.data));\n        dispatch(setMessageReplyInput(''));\n        // dispatch(setMessageReplies(messageReplies.concat(res.data)));\n        console.log(res.data);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleReplyInputChange: React.ChangeEventHandler<HTMLTextAreaElement> =\n    (event) => {\n      dispatch(setMessageReplyInput(event.target.value));\n    };\n\n  return (\n    <div className='MessageArea'>\n      {messages.map((message) => {\n        return (\n          <div style={{ padding: '20px' }} key={message.id}>\n            <div className='MessageThread'>\n              <div>{message.content}</div>\n\n              <div>\n                Vastaukset:\n                {replies.length === 0 ? (\n                  <p>Ei vastauksia</p>\n                ) : (\n                  messageReplies.map((reply) => {\n                    if (reply.originalMessageId === message.id) {\n                      return <div key={reply.id}>{reply.content}</div>;\n                    }\n                  })\n                )}\n              </div>\n              <div>Vastaa viestiin</div>\n              <textarea\n                name='reply'\n                onChange={handleReplyInputChange}\n                cols={30}\n                rows={5}\n                ></textarea>\n              <button onClick={() => addNewReply(message.id)}>\n                Lähetä vastaus\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default MessageArea;\n\n// {houseToEdit.users.map((user) => {\n//   if (user.id === item.userWhoAddedId) {\n//     return (\n//       <div key={user.id}>\n//         {user.username}\n//       </div>\n//     )\n//   }\n// })}\n","import React from 'react';\nimport { useParams } from 'react-router';\nimport MessageArea from '../components/MessageArea';\nimport {\n  setMessageReplies,\n  setMessages,\n  setNewMessageInput,\n} from '../state/reducer';\nimport { useStateValue } from '../state/state';\nimport { Message, MessageReply } from '../types';\nimport axiosHelper from '../utils/axiosHelper';\n\nconst Messages = () => {\n  const [{ messages, messageReplies, newMessageInput, houseToEdit }, dispatch] =\n    useStateValue();\n  const { id } = useParams();\n  const [messageInputOpen, setMessageInputOpen] =\n    React.useState<boolean>(false);\n  const [replyInputOpen, setReplyInputOpen] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    axiosHelper\n      .get<Message[]>(`api/messages/${id}`)\n      .then((res) => {\n        dispatch(setMessages(res));\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const handleMessageInputChange: React.ChangeEventHandler<HTMLInputElement> = (\n    event\n  ) => {\n    dispatch(setNewMessageInput(event.target.value));\n  };\n\n  const addNewMessage = () => {\n    const messageObj = {\n      content: newMessageInput,\n      houseId: id,\n    };\n    axiosHelper\n      .post(`api/messages`, messageObj)\n      .then((result) => {\n        const addedMessage = result.data as Message;\n        dispatch(setMessages(messages.concat(addedMessage)));\n        dispatch(setNewMessageInput(''));\n        setMessageInputOpen(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div>\n      <div style={{ padding: '20px' }}>Viestit</div>\n      <div\n        style={{ cursor: 'pointer' }}\n        onClick={() => setMessageInputOpen(true)}>\n        Lisää uusi viesti\n      </div>\n      <div>\n        {!messageInputOpen ? (\n          <div></div>\n        ) : (\n          <div>\n            <input\n              onChange={handleMessageInputChange}\n              type='text'\n              name='message'\n              placeholder='Uusi viesti...'\n            />\n            <button onClick={addNewMessage}>Lisää!</button>\n          </div>\n        )}\n      </div>\n      <div className='MessageArea'>\n        <MessageArea messages={messages} houseToEdit={houseToEdit} />\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import React from 'react';\nimport House from '../pages/House';\nimport Home from '../pages/Home';\nimport Profile from '../pages/Profile';\nimport { Route, Routes } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport '../styles/LoggedInView.css';\nimport HouseView from '../pages/HouseView';\nimport Messages from '../pages/Messages';\n\ninterface Props {\n  handleLogout: () => void;\n}\n\nconst LoggedInView = ({ handleLogout }: Props) => {  \n  return (\n    <div className='LoggedInView'>\n      <div className='TopBar'>\n        <Link className='link' to='/'>\n          Etusivu\n        </Link>\n        <Link className='link' to='/house'>\n          Mökit\n        </Link>\n        <Link className='link' to='/user'>\n          Profiili\n        </Link>\n        <button onClick={handleLogout}>Kirjaudu ulos</button>\n      </div>\n      <Routes>\n        <Route path='/' element={<Home />} />\n        <Route path='/house' element={<House />} />\n        <Route path='/user' element={<Profile />} />\n        <Route path='/house/:id' element={<HouseView />} />\n        <Route path='/house/:id/messages' element={<Messages />} />\n      </Routes>\n    </div>\n  );\n};\n\nexport default LoggedInView;\n","import axios from 'axios';\nimport { axiosInstance } from './axiosHelper';\n\nconst baseUrl = `http://localhost:3001`;\n\ninterface ReturnData {\n  message: string;\n}\n\ninterface Credentials {\n  username: string;\n  password: string;\n  keepLoggedIn: boolean;\n}\n\nconst login = async (userCredentials: Credentials): Promise<ReturnData> => {\n  // const request = axios.post(`${baseUrl}/api/login`, userCredentials);\n  // console.log((await request).data);\n  // axios\n  //   .post(`${baseUrl}/api/login`, userCredentials, { withCredentials: true })\n  //   .then((res) => {\n  //     return res;\n  //   })\n  //   .catch((err) => console.log('err', err));\n  const response = await axios.post(`${baseUrl}/api/login`, userCredentials, {\n    withCredentials: true,\n  });\n  return await response.data;\n};\n\nconst userLoggedIn = (token: string | undefined): boolean => {\n  if (token) {\n    return true;\n  }\n  return false;\n};\n\nconst logout = async (): Promise<void> => {\n  await axiosInstance.post(`api/login/logout`);\n}\n\nexport default {\n  login,\n  userLoggedIn,\n  logout\n};\n","import React from 'react';\nimport { useStateValue } from '../state/state';\nimport loginHelper from '../utils/loginHelper';\n\n// interface Credentials {\n//   username: string;\n//   password: string;\n// }\n\nconst LoginView = () => {\n  const [{ username, userPassword, stayLoggedIn }, dispatch] = useStateValue();\n  // const [credentials, setCredentails] = React.useState<Credentials>({\n  //   username: '',\n  //   password: '',\n  // });\n\n  // console.log('here is cookies.get', Cookies.get('token'))\n\n  const handleUsernameChange: React.ChangeEventHandler<HTMLInputElement> = (\n    event\n  ) => {\n    dispatch({\n      type: 'SET_USERNAME',\n      payload: event.target.value,\n    });\n  };\n  const handlePasswordChange: React.ChangeEventHandler<HTMLInputElement> = (\n    event\n  ) => {\n    dispatch({\n      type: 'SET_PASSWORD',\n      payload: event.target.value,\n    });\n  };\n  const handleStayLoggedInChange = () => {\n    dispatch({\n      type: 'STAY_LOGGEDIN',\n      payload: !stayLoggedIn,\n    });\n  };\n\n  const handleLogin = async (): Promise<void> => {\n    try {\n      const loginResponse = await loginHelper.login({\n        username,\n        password: userPassword,\n        keepLoggedIn: stayLoggedIn,\n      });\n      if (loginResponse.message === 'Logged in!') {\n        dispatch({\n          type: 'LOGIN',\n          payload: true,\n        });\n      } else {\n        window.alert('Wrong credentials');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div>\n      <div>Tervetuloa! Ole hyvä ja kirjaudu sisään</div>\n      <div>\n        <label htmlFor='username'>Käyttäjätunnus</label>\n        <input\n          onChange={handleUsernameChange}\n          type='text'\n          name='username'\n          placeholder='Käyttäjätunnus'\n        />\n      </div>\n      <div>\n        <label htmlFor='password'>Salasana</label>\n        <input\n          onChange={handlePasswordChange}\n          type='password'\n          name='password'\n          placeholder='Salasana'\n        />\n      </div>\n      <div>\n        <label htmlFor='stayLoggedIn'>Pysy sisäänkirjautuneena</label>\n        <input\n          checked={stayLoggedIn}\n          onChange={handleStayLoggedInChange}\n          type='checkbox'\n          name='stayLoggedIn'\n        />\n      </div>\n      <button onClick={handleLogin}>Login</button>\n    </div>\n  );\n};\n\nexport default LoginView;\n","import React from 'react';\nimport './styles/App.css';\nimport LoggedInView from './Views/LoggedInView';\nimport { useStateValue } from './state/state';\nimport LoginView from './Views/LoginView';\nimport Cookies from 'js-cookie';\nimport loginHelper from './utils/loginHelper';\nimport { loginUser, logoutUser } from './state/reducer';\n\nconst App = () => {\n  const [{ isLoggedIn }, dispatch] = useStateValue();\n\n  React.useEffect(() => {\n    if (loginHelper.userLoggedIn(Cookies.get('token'))) {\n      dispatch(loginUser());\n    } else {\n      dispatch(logoutUser());\n    }\n  }, [isLoggedIn]);\n\n  const handleLogout = () => {\n    loginHelper\n      .logout()\n      .then(() => {\n        dispatch(logoutUser());\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // Being logged in doesn't matter that much, redirect the user to login when fetching data that is behind authorization\n\n  // **********\n  // **********\n  // https://stackoverflow.com/questions/47476186/when-user-is-not-logged-in-redirect-to-login-reactjs\n  // https://stackoverflow.com/questions/61997401/how-to-logout-user-when-token-expires-in-react-app\n  // **********\n  // **********\n\n  return (\n    <div className='App'>{isLoggedIn ? <LoggedInView handleLogout={handleLogout} /> : <LoginView />}</div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { StateProvider } from './state/state';\nimport { reducer } from './state/reducer';\n\nReactDOM.render(\n  <StateProvider reducer={reducer}>\n    <Router>\n      <App />\n    </Router>\n  </StateProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}